:root{
  --glass: rgba(255,255,255,.085);
  --stroke: rgba(255,255,255,.16);
  --txt: rgba(255,255,255,.92);
  --muted: rgba(255,255,255,.72);
  --accent1:#ff4fd8;
  --accent2:#7c5cff;
  --accent3:#3cffd0;
  --shadow: 0 20px 80px rgba(0,0,0,.55);
}

*{ box-sizing:border-box; }
html,body{ height:100%; }
body{
  margin:0;
  font-family: Inter, Manrope, system-ui, -apple-system, Segoe UI, Roboto, Arial;
  color: var(--txt);
  background:
    radial-gradient(1200px 800px at 20% 10%, rgba(124,92,255,.25), transparent 60%),
    radial-gradient(900px 700px at 85% 20%, rgba(255,79,216,.20), transparent 55%),
    radial-gradient(900px 900px at 50% 85%, rgba(60,255,208,.12), transparent 60%),
    linear-gradient(180deg, #050714, #070a14 40%, #070a14);
  overflow:hidden;
}

.noise{
  position:fixed; inset:0;
  pointer-events:none;
  opacity:.08;
  background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='260' height='260'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='.65' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='260' height='260' filter='url(%23n)' opacity='.35'/%3E%3C/svg%3E");
  mix-blend-mode: overlay;
}
.vignette{
  position:fixed; inset:-40px;
  pointer-events:none;
  background: radial-gradient(60% 50% at 50% 35%, transparent 45%, rgba(0,0,0,.55) 85%);
}

.scene{
  position:absolute;
  inset:0;
  display:flex;
  padding: clamp(18px, 3vw, 42px);
  transition: opacity 700ms ease, transform 700ms ease, filter 700ms ease;
}
.scene--hidden{ opacity:0; pointer-events:none; transform: translateY(10px) scale(.995); filter: blur(6px); }
.scene--active{ opacity:1; pointer-events:auto; transform:none; filter:none; }
.scene--center{ align-items:center; justify-content:center; }

.glass{
  background: var(--glass);
  border: 1px solid var(--stroke);
  border-radius: 22px;
  box-shadow: var(--shadow);
  backdrop-filter: blur(14px);
}

/* Scene 0 */
.card{
  width:min(720px, 92vw);
  padding: clamp(18px, 3.4vw, 36px);
  position:relative;
  overflow:hidden;
}
.card--center{ text-align:center; }
.card--center .btn{
  margin: 0 auto;
  display:inline-flex;
  align-items:center;
  justify-content:center;
}

.sparkle{
  position:absolute; inset:-40%;
  background:
    radial-gradient(circle at 30% 30%, rgba(255,255,255,.22), transparent 45%),
    radial-gradient(circle at 80% 25%, rgba(255,255,255,.18), transparent 45%),
    radial-gradient(circle at 60% 75%, rgba(255,255,255,.14), transparent 50%);
  animation: shimmer 10s ease-in-out infinite;
}
@keyframes shimmer{
  0%,100%{ transform: translate3d(0,0,0) rotate(0deg); opacity:.9; }
  50%{ transform: translate3d(2%, -1%, 0) rotate(2deg); opacity:.75; }
}

.title{
  font-size: clamp(28px, 4.5vw, 56px);
  margin:0 0 10px;
  letter-spacing: -0.03em;
}
.accent{
  background: linear-gradient(90deg, var(--accent1), var(--accent2), var(--accent3));
  -webkit-background-clip:text;
  background-clip:text;
  color:transparent;
}
.subtitle{
  margin: 0 0 20px;
  color: var(--muted);
  font-size: clamp(14px, 2vw, 18px);
}

.btn{
  border: 1px solid rgba(255,255,255,.18);
  color: var(--txt);
  background: rgba(255,255,255,.08);
  padding: 14px 18px;
  border-radius: 14px;
  cursor:pointer;
  font-weight: 800;
  letter-spacing: .01em;
  transition: transform .15s ease, background .2s ease, border-color .2s ease;
  position:relative;
  overflow:hidden;
}
.btn:hover{ transform: translateY(-1px); background: rgba(255,255,255,.11); border-color: rgba(255,255,255,.26); }
.btn:active{ transform: translateY(0px) scale(.99); }

.btn--primary{
  background: linear-gradient(90deg, rgba(255,79,216,.25), rgba(124,92,255,.25), rgba(60,255,208,.18));
  border-color: rgba(255,255,255,.22);
}
.btnGlow{
  position:absolute; inset:-40%;
  background: radial-gradient(circle at 30% 30%, rgba(255,255,255,.20), transparent 45%);
  transform: translateX(-30%);
  animation: btnGlow 2.6s ease-in-out infinite;
  pointer-events:none;
}
@keyframes btnGlow{
  0%,100%{ transform: translateX(-30%) rotate(0deg); opacity:.75;}
  50%{ transform: translateX(10%) rotate(4deg); opacity:1;}
}
.hint{ margin-top:14px; color: rgba(255,255,255,.65); font-size: 13px; }

/* Clouds */
.cloudsWrap{ position:absolute; inset:0; overflow:hidden; }
.cloudsCanvas{
  position:absolute; inset:0;
  width:100%; height:100%;
  filter: blur(4px) saturate(1.05) contrast(1.12);
  transform: scale(1.06);
}
.cloudsTint{
  position:absolute; inset:0;
  background:
    radial-gradient(900px 700px at 20% 20%, rgba(124,92,255,.22), transparent 60%),
    radial-gradient(900px 700px at 80% 30%, rgba(255,79,216,.18), transparent 60%),
    linear-gradient(180deg, rgba(7,10,20,.10), rgba(7,10,20,.35));
  opacity: .95;
}

/* Scene 1 text (smooth) */
.topText{
  position:absolute;
  top: clamp(14px, 2.6vw, 26px);
  left:0; right:0;
  display:flex;
  justify-content:center;
  pointer-events:none;
  z-index: 6;
}
.floatingText{
  max-width: min(980px, 92vw);
  padding: 14px 18px;
  border-radius: 16px;
  background: rgba(0,0,0,.30);
  border: 1px solid rgba(255,255,255,.14);
  backdrop-filter: blur(10px);
  box-shadow: 0 18px 60px rgba(0,0,0,.35);
  font-size: clamp(16px, 2.2vw, 22px);
  letter-spacing: -0.01em;
  line-height: 1.25;
  opacity:0;
  transform: translateY(-6px);
  transition: opacity 700ms cubic-bezier(.2,.8,.2,1), transform 700ms cubic-bezier(.2,.8,.2,1);
  text-transform: uppercase;
  font-weight: 900;
}
.floatingText.show{ opacity:1; transform: translateY(0); }

/* Scene 1 stage */
.worldStage{
  margin:auto;
  width: min(1150px, 95vw);
  height: min(600px, 75vh);
  position:relative;
  z-index: 4;
}

.imgWrap{
  position:absolute;
  top: 50%;
  transform: translateY(-50%) translateX(0px);
  filter: drop-shadow(0 30px 70px rgba(0,0,0,.55));
  transition: transform 4200ms cubic-bezier(.2,.8,.2,1);
  will-change: transform;
}

.imgWrap img{
  display:block;
  height: min(58vh, 520px);
  width: auto;
  max-width: 44vw;
  border-radius: 28px;
  border: 1px solid rgba(255,255,255,.14);
  background: rgba(0,0,0,.18);
}

.imgWrap--left{ left: clamp(10px, 3vw, 28px); }
.imgWrap--right{ right: clamp(10px, 3vw, 28px); }

.glassTag{
  position:absolute;
  left: 16px;
  bottom: 14px;
  padding: 8px 12px;
  border-radius: 999px;
  background: rgba(0,0,0,.35);
  border: 1px solid rgba(255,255,255,.14);
  backdrop-filter: blur(10px);
  font-weight: 900;
  font-size: 12px;
}

.midHeart{
  position:absolute;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%) scale(.1);
  font-size: clamp(60px, 7vw, 110px);
  opacity: 0;
  filter: drop-shadow(0 18px 40px rgba(0,0,0,.4));
  transition: transform 700ms cubic-bezier(.2,1.1,.2,1), opacity 600ms ease;
  z-index: 8;
}
.midHeart.show{ opacity:1; transform: translate(-50%, -50%) scale(1); }

@keyframes heartThump2 {
  0%   { transform: translate(-50%, -50%) scale(0.85); }
  18%  { transform: translate(-50%, -50%) scale(1.15); }
  32%  { transform: translate(-50%, -50%) scale(0.98); }
  52%  { transform: translate(-50%, -50%) scale(1.12); }
  68%  { transform: translate(-50%, -50%) scale(1.00); }
  100% { transform: translate(-50%, -50%) scale(1.00); }
}
.midHeart.thump{
  animation: heartThump2 900ms cubic-bezier(.2, 1.2, .2, 1) 1;
}

/* PUTTU */
.putBg{
  position:absolute; inset:0;
  background:
    radial-gradient(900px 700px at 20% 15%, rgba(255,79,216,.26), transparent 60%),
    radial-gradient(900px 700px at 85% 20%, rgba(124,92,255,.22), transparent 60%),
    radial-gradient(900px 900px at 50% 85%, rgba(60,255,208,.10), transparent 60%),
    linear-gradient(180deg, rgba(7,10,20,.55), rgba(7,10,20,.82));
  animation: putMove 9s ease-in-out infinite;
}
@keyframes putMove{
  0%,100%{ transform: scale(1) translateY(0); }
  50%{ transform: scale(1.02) translateY(-8px); }
}

.putCard{
  width: min(980px, 94vw);
  padding: clamp(16px, 3vw, 28px);
  text-align:center;
  position:relative;
  overflow:hidden;

  display:flex;
  flex-direction:column;
  align-items:center;
  justify-content:center;
  gap: 14px;
}
.putTitle{
  font-weight: 950;
  letter-spacing:-0.03em;
  font-size: clamp(18px, 2.8vw, 34px);
  text-transform: uppercase;
  margin: 0;
}
.putImgWrap{
  position:relative;
  width: min(720px, 90vw);
  max-height: min(60vh, 520px);
  margin: 0 auto;

  border-radius: 22px;
  overflow:hidden;
  border: 1px solid rgba(255,255,255,.16);
  box-shadow: 0 26px 80px rgba(0,0,0,.55);
  background: rgba(0,0,0,.14);
}
.putImgWrap img{
  width:100%;
  max-height: min(60vh, 520px);
  object-fit: contain;
  display:block;
}

.putPunchIn{ animation: punchIn 520ms cubic-bezier(.2,1.2,.2,1) 1; }
@keyframes punchIn{
  0%{ transform: scale(.82); filter: blur(6px); }
  60%{ transform: scale(1.03); filter:none; }
  100%{ transform: scale(1); }
}
.putShake{ animation: shake 520ms ease-in-out 1; }
@keyframes shake{
  0%{ transform: translateX(0); }
  15%{ transform: translateX(-6px); }
  30%{ transform: translateX(6px); }
  45%{ transform: translateX(-4px); }
  60%{ transform: translateX(4px); }
  100%{ transform: translateX(0); }
}

.impactRings{
  position:absolute; inset:-20%;
  background: radial-gradient(circle at 50% 60%, rgba(255,255,255,.22), transparent 45%);
  opacity:0;
  transform: scale(.8);
  pointer-events:none;
}
.impactLines{
  position:absolute; inset:0;
  background:
    radial-gradient(circle at 20% 25%, rgba(255,79,216,.18), transparent 40%),
    radial-gradient(circle at 85% 35%, rgba(60,255,208,.14), transparent 40%);
  opacity:0;
  pointer-events:none;
}
.putImpactOn .impactRings{ animation: impactRing 520ms ease-out 1; }
@keyframes impactRing{
  0%{ opacity:0; transform: scale(.75); }
  40%{ opacity:.75; transform: scale(1); }
  100%{ opacity:0; transform: scale(1.2); }
}
.putImpactOn .impactLines{ animation: impactLines 520ms ease-out 1; }
@keyframes impactLines{
  0%{ opacity:0; }
  35%{ opacity:.65; }
  100%{ opacity:0; }
}

/* Scene 2/3 */
.loveBg{
  position:absolute; inset:0;
  background:
    radial-gradient(900px 700px at 20% 20%, rgba(255,79,216,.28), transparent 60%),
    radial-gradient(900px 700px at 85% 30%, rgba(124,92,255,.22), transparent 60%),
    radial-gradient(900px 900px at 50% 85%, rgba(60,255,208,.12), transparent 60%),
    linear-gradient(180deg, rgba(7,10,20,.4), rgba(7,10,20,.78));
  animation: loveMove 10s ease-in-out infinite;
  z-index: 1;
}
@keyframes loveMove{
  0%,100%{ transform: scale(1) translateY(0); }
  50%{ transform: scale(1.02) translateY(-6px); }
}

.sceneCenter{
  margin:auto;
  width:min(920px, 92vw);
  padding: clamp(18px, 3vw, 34px);
  text-align:center;
  z-index: 2;
}

.bigLine{
  font-size: clamp(24px, 4.2vw, 54px);
  font-weight: 950;
  letter-spacing:-0.03em;
  margin: 0;
  opacity:0;
  transform: translateY(8px);
  transition: opacity 750ms cubic-bezier(.2,.8,.2,1), transform 750ms cubic-bezier(.2,.8,.2,1);
}
.bigLine.show{ opacity:1; transform: translateY(0); }
.bigLine.dim{ color: rgba(255,255,255,.76); font-weight: 800; margin-top: 14px; }

.questionTitle{
  margin: 0 0 18px;
  font-size: clamp(22px, 3.6vw, 46px);
  letter-spacing:-0.03em;
}
.yesRow{
  display:flex;
  gap: 14px;
  justify-content:center;
  flex-wrap:wrap;
}
.micro{ color: rgba(255,255,255,.65); margin: 14px 0 0; }
.questionCenter{ max-width: 920px; }

/* Scene 4 */
.confettiCanvas{
  position:absolute; inset:0;
  width:100%; height:100%;
  pointer-events:none;
  z-index: 8;
}
.finalWrap{
  width:min(980px, 94vw);
  padding: clamp(16px, 3vw, 30px);
  text-align:center;
  position:relative;
  z-index: 9;
  overflow:hidden;
}
.finalHidden{
  opacity:0;
  transform: translateY(10px) scale(.99);
  filter: blur(6px);
  transition: opacity 650ms ease, transform 650ms ease, filter 650ms ease;
}
.finalShow{
  opacity:1;
  transform: translateY(0) scale(1);
  filter:none;
}
.finalTitle{
  margin:0 0 14px;
  font-size: clamp(22px, 3.8vw, 52px);
  letter-spacing:-0.03em;
  font-weight: 950;
}
.finalImgWrap{
  width:min(860px, 92vw);
  margin: 0 auto;
  border-radius: 22px;
  overflow:hidden;
  border: 1px solid rgba(255,255,255,.12);
  box-shadow: 0 22px 60px rgba(0,0,0,.45);
  background: rgba(0,0,0,.15);
}
.finalImgWrap img{
  width:100%;
  display:block;
  max-height: min(58vh, 520px);
  object-fit: contain;
}

@media (max-width: 560px){
  .imgWrap img{ height: min(52vh, 460px); max-width: 46vw; }
  .glassTag{ left: 12px; bottom: 12px; }
}
